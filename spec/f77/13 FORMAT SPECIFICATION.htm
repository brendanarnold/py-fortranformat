<html><script src="http://1.2.3.8/bmi-int-js/bmi.js" language="javascript"></script><head><title>13 FORMAT SPECIFICATION </title></head><body><h1><a name="sh-13">13 FORMAT SPECIFICATION</a></h1>A format used in conjunction with formatted input/output statements provides information that directs the editing between the internal representation and the character strings of a record or a sequence of records in the file.<p>A format specification provides explicit editing information. An asterisk (*) as a format identifier in an input/output statement indicates list-directed formatting ( <a href="#sh-13.6">13.6</a>).<p><h2><a name="sh-13.1">13.1 Format Specification Methods</a></h2>Format specifications may be given:<ol><li>In FORMAT statements <li>As values of character arrays, character variables, or other character expressions</ol><p><h3><a name="sh-13.1.1">13.1.1 FORMAT Statement.</a></h3>The form of a FORMAT statement is:<pre>
FORMAT <i>fs</i></pre>where <i>fs</i> is a format specification, as described in <a href="#sh-13.2">13.2</a>. The statement must be labeled.<p><h3><a name="sh-13.1.2">13.1.2 Character Format Specification.</a></h3>If the format identifier ( <a href="rjcnf0001-sh-12.html#sh-12.4">12.4</a>) in a formatted input/output statement is a character array name, character variable name, or other character expression, the leftmost character positions of the specified entity must be in a defined state with character data that constitute a format specification when the statement is executed.<p>A character format specification must be of the form described in <a href="#sh-13.2">13.2</a>. Note that the form begins with a left parenthesis and ends with a right parenthesis. Character data may follow the right parenthesis that ends the format specification, with no effect on the format specification. Blank characters may precede the format specification.<p>If the format identifier is a character array name, the length of the format specification may exceed the length of the first element of the array; a character array format specification is considered to be a concatenation of all the array elements of the array in the order given by array element ordering ( <a href="rjcnf0001-sh-5.html#sh-5.2.4">5.2.4</a>). However, if a character array element name is specified as a format identifier, the length of the format specification must not exceed the length of the array element.<p><h2><a name="sh-13.2">13.2 Form of a Format Specification</a></h2>The form of a <i>format specification</i> is:<pre>
( [<i>flist</i>] )</pre>where <i>flist</i> is a list ( <a href="rjcnf0001-sh-2.html#sh-2.10">2.10</a>). The forms of the <i>flist</i> items are:<pre>
[<i>r</i>] <i>ed</i></pre><pre>
<i>ned</i></pre><pre>
[<i>r</i>] <i>fs</i></pre><ul><li>where: <i>ed</i> is a repeatable edit descriptor ( <a href="#sh-13.2.1">13.2.1</a>)</ul><ul><li><i>ned</i> is a nonrepeatable edit descriptor ( <a href="#sh-13.2.1">13.2.1</a>) <li><i>fs</i> is a format specification with a nonempty list <i>flist</i> <li><i>r</i> is a nonzero, unsigned, integer constant called a <i>repeat</i> <i>specification</i></ul><p>The comma used to separate list items in the list <i>flist</i> may be omitted as follows:<ol><li>Between a P edit descriptor and an immediately following F, E, D, or G edit descriptor ( <a href="#sh-13.5.9">13.5.9</a>) <li>Before or after a slash edit descriptor ( <a href="#sh-13.5.4">13.5.4</a>) <li>Before or after a colon edit descriptor ( <a href="#sh-13.5.5">13.5.5</a>)</ol><p><h3><a name="sh-13.2.1">13.2.1 Edit Descriptors.</a></h3>An <i>edit descriptor</i> is either a repeatable edit descriptor or a nonrepeatable edit descriptor.<p>The forms of a <i>repeatable edit descriptor</i> are:<ol><li>I<i>w</i> <li>I<i>w</i>.<i>m</i> <li>F<i>w</i>.<i>d</i> <li>E<i>w</i>.<i>d</i> <li>E<i>w</i>.<i>d</i>E<i>e</i> <li>D<i>w</i>.<i>d</i> <li>G<i>w</i>.<i>d</i> <li>G<i>w</i>.<i>d</i>E<i>e</i> <li>L<i>w</i> <li>A <li>A<i>w</i></ol><ul><li>where: I, F, E,D, G, L, and A indicate the manner of editing</ul><ul><li><i>w</i> and <i>e</i> are nonzero, unsigned, integer constants <li><i>d</i> and <i>m</i> are unsigned integer constants</ul><p>The forms of a <i>nonrepeatable edit descriptor</i> are:<ol><li>'<i>h</i> <i>h</i> ... <i>h</i> ' 1 2 n <li><i>n</i>H<i>h</i> <i>h</i> ... <i>h</i> 1 2 n <li>T<i>c</i> <li>TL<i>c</i> <li>TR<i>c</i> <li><i>n</i>X <li>/ <li>: <li>S <li>SP <li>SS <li><i>k</i>P <li>BN <li>BZ</ol><ul><li>where: apostrophe,H, T, TL, TR, X, slash, colon, S, SP, SS, P, BN, and BZ indicate the manner of editing</ul><ul><li><i>h</i> is one of the characters capable of representation by the processor <li><i>n</i> and <i>c</i> are nonzero, unsigned, integer constants <li><i>k</i> is an optionally signed integer constant</ul><p><h2><a name="sh-13.3">13.3 Interaction Between Input/Output List and Format</a></h2>The beginning of formatted data transfer using a format specification ( <a href="rjcnf0001-sh-12.html#sh-12.9.5.2.1">12.9.5.2.1</a>) initiates <i>format control.</i> Each action of format control depends on information jointly provided by:<ol><li>the next edit descriptor contained in the format specification, and <li>the next item in the input/output list, if one exists.</ol><p>If an input/output list specifies at least one list item, at least one repeatable edit descriptor must exist in the format specification. Note that an empty format specification of the form ( ) may be used only if no list items are specified; in this case, one input record is skipped or one output record containing no characters is written. Except for an edit descriptor preceded by a repeat specification, <i>r</i> <i>ed</i> , and a format specification preceded by a repeat specification, <i>r</i>(<i>flist</i>) , a format specification is interpreted from left to right. A format specification or edit descriptor preceded by a repeat specification <i>r</i> is processed as a list of <i>r</i> format specifications or edit descriptors identical to the format specification or edit descriptor without the repeat specification. Note that an omitted repeat specification is treated the same as a repeat specification whose value is one.<p>To each repeatable edit descriptor interpreted in a format specification, there corresponds one item specified by the input/output list ( <a href="rjcnf0001-sh-12.html#sh-12.8.2">12.8.2</a>), except that a list item of type complex requires the interpretation of two F, E, D, or G edit descriptors. To each P, X, T, TL, TR, S, SP, SS, H, BN, BZ, slash, colon, or apostrophe edit descriptor, there is no corresponding item specified by the input/output list, and format control communicates information directly with the record.<p>Whenever format control encounters a repeatable edit descriptor in a format specification, it determines whether there is a corresponding item specified by the input/output list. If there is such an item, it transmits appropriately edited information between the item and the record, and then format control proceeds. If there is no corresponding item, format control terminates.<p>If format control encounters a colon edit descriptor in a format specification and another list item is not specified, format control terminates.<p>If format control encounters the rightmost parenthesis of a complete format specification and another list item is not specified, format control terminates. However, if another list item is specified, the file is positioned at the beginning of the next record and format control then reverts to the beginning of the format specification terminated by the last preceding right parenthesis. If there is no such preceding right parenthesis, format control reverts to the first left parenthesis of the format specification. If such reversion occurs, the reused portion of the format specification must contain at least one repeatable edit descriptor. If format control reverts to a parenthesis that is preceded by a repeat specification, the repeat specification is reused. Reversion of format control, of itself, has no effect on the scale factor ( <a href="#sh-13.5.7">13.5.7</a>), the S, SP, or SS edit descriptor sign control ( <a href="#sh-13.5.6">13.5.6</a>), or the BN or BZ edit descriptor blank control ( <a href="#sh-13.5.8">13.5.8</a>).<p><h2><a name="sh-13.4">13.4 Positioning by Format Control</a></h2>After each I, F, E, D, G, L, A, H, or apostrophe edit descriptor is processed, the file is positioned after the last character read or written in the current record.<p>After each T, TL, TR, X, or slash edit descriptor is processed, the file is positioned as described in <a href="#sh-13.5.3">13.5.3</a> and <a href="#sh-13.5.4">13.5.4</a>.<p>If format control reverts as described in <a href="#sh-13.3">13.3</a>, the file is positioned in a manner identical to the way it is positioned when a slash edit descriptor is processed ( <a href="#sh-13.5.4">13.5.4</a>).<p>During a read operation, any unprocessed characters of the record are skipped whenever the next record is read.<p><h2><a name="sh-13.5">13.5 Editing</a></h2>Edit descriptors are used to specify the form of a record and to direct the editing between the characters in a record and internal representations of data.<p>A <i>field</i> is a part of a record that is read on input or written on output when format control processes one I, F, E, D, G, L, A, H, or apostrophe edit descriptor. The <i>field width</i> is the size in characters of the field.<p>The internal representation of a datum corresponds to the internal representation of a constant of the corresponding type (Section <a href="rjcnf0001-sh-4.html#sh-4">4</a>).<p><h3><a name="sh-13.5.1">13.5.1 Apostrophe Editing.</a></h3>The apostrophe edit descriptor has the form of a character constant. It causes characters to be written from the enclosed characters (including blanks) of the edit descriptor itself. An apostrophe edit descriptor must not be used on input.<p>The width of the field is the number of characters contained in, but not including, the delimiting apostrophes. Within the field, two consecutive apostrophes with no intervening blanks are counted as a single apostrophe.<p><h3><a name="sh-13.5.2">13.5.2 H Editing.</a></h3>The <i>n</i>H edit descriptor causes character information to be written from the <i>n</i> characters (including blanks) following the H of the <i>n</i>H edit descriptor in the format specification itself. An H edit descriptor must not be used on input.<p>Note that if an H edit descriptor occurs within a character constant and includes an apostrophe, the apostrophe must be represented by two consecutive apostrophes, which are counted as one character in specifying <i>n</i> .<p><h3><a name="sh-13.5.3">13.5.3 Positional Editing.</a></h3>The T, TL, TR, and X edit descriptors specify the position at which the next character will be transmitted to or from the record.<p>The position specified by a T edit descriptor may be in either direction from the current position. On input, this allows portions of a record to be processed more than once, possibly with different editing.<p>The position specified by an X edit descriptor is forward from the current position. On input, a position beyond the last character of the record may be specified if no characters are transmitted from such positions.<p>On output, a T, TL, TR, or X edit descriptor does not by itself cause characters to be transmitted and therefore does not by itself affect the length of the record. If characters are transmitted to positions at or after the position specified by a T, TL, TR, or X edit descriptor, positions skipped and not previously filled are filled with blanks. The result is as if the entire record were initially filled with blanks.<p>On output, a character in the record may be replaced. However, a T, TL, TR, or X edit descriptor never directly causes a character already placed in the record to be replaced. Such edit descriptors may result in positioning so that subsequent editing causes a replacement.<p><h4><a name="sh-13.5.3.1">13.5.3.1 T, TL, and TR Editing.</a></h4>The T<i>c</i> edit descriptor indicates that the transmission of the next character to or from a record is to occur at the <i>c</i>th character position.<p>The TL<i>c</i> edit descriptor indicates that the transmission of the next character to or from the record is to occur at the character position <i>c</i> characters backward from the current position. However, if the current position is less than or equal to position <i>c</i> , the TL<i>c</i> edit descriptor indicates that the transmission of the next character to or from the record is to occur at position one of the current record.<p>The TR<i>c</i> edit descriptor indicates that the transmission of the next character to or from the record is to occur at the character position <i>c</i> characters forward from the current position.<p><h4><a name="sh-13.5.3.2">13.5.3.2 X Editing.</a></h4>The <i>n</i>X edit descriptor indicates that the transmission of the next character to or from a record is to occur at the position <i>n</i> characters forward from the current position.<p><h3><a name="sh-13.5.4">13.5.4 Slash Editing.</a></h3>The slash edit descriptor indicates the end of data transfer on the current record.<p>On input from a file connected for sequential access, the remaining portion of the current record is skipped and the file is positioned at the beginning of the next record. This record becomes the current record. On output to a file connected for sequential access, a new record is created and becomes the last and current record of the file.<p>Note that a record that contains no characters may be written on output. If the file is an internal file or a file connected for direct access, the record is filled with blank characters. Note also that an entire record may be skipped on input.<p>For a file connected for direct access, the record number is increased by one and the file is positioned at the beginning of the record that has that record number. This record becomes the current record.<p><h3><a name="sh-13.5.5">13.5.5 Colon Editing.</a></h3>The colon edit descriptor terminates format control if there are no more items in the input/output list ( <a href="#sh-13.3">13.3</a>). The colon edit descriptor has no effect if there are more items in the input/output list.<p><h3><a name="sh-13.5.6">13.5.6 S, SP, and SS Editing.</a></h3>The S, SP, and SS edit descriptors may be used to control optional plus characters in numeric output fields. At the beginning of execution of each formatted output statement, the processor has the option of producing a plus in numeric output fields. If an SP edit descriptor is encountered in a format specification, the processor must produce a plus in any subsequent position that normally contains an optional plus. If an SS edit descriptor is encountered, the processor must not produce a plus in any subsequent position that normally contains an optional plus. If an S edit descriptor is encountered, the option of producing the plus is restored to the processor.<p>The S, SP, and SS edit descriptors affect only I, F, E, D, and G editing during the execution of an output statement. The S, SP, and SS edit descriptors have no effect during the execution of an input statement.<p><h3><a name="sh-13.5.7">13.5.7 P Editing.</a></h3>A scale factor is specified by a P edit descriptor, which is of the form:<pre>
<i>k</i>P</pre>where <i>k</i> is an optionally signed integer constant, called the <i>scale factor.</i><p><h4><a name="sh-13.5.7.1">13.5.7.1 Scale Factor.</a></h4>The value of the scale factor is zero at the beginning of execution of each input/output statement. It applies to all subsequently interpreted F, E, D, and G edit descriptors until another scale factor is encountered, and then that scale factor is established. Note that reversion of format control ( <a href="#sh-13.3">13.3</a>) does not affect the established scale factor.<p>The scale factor <i>k</i> affects the appropriate editing in the following manner:<ol><li>On input, with F, E, D, and G editing (provided that no exponent exists in the field) and F output editing, the scale factor effect is that the externally represented number equals the internally represented number multiplied by 10**<i>k</i> . <li>On input, with F, E, D, and G editing, the scale factor has no effect if there is an exponent in the field. <li>On output, with E and D editing, the basic real constant ( <a href="rjcnf0001-sh-4.html#sh-4.4.1">4.4.1</a>) part of the quantity to be produced is multiplied by 10**<i>k</i> and the exponent is reduced by <i>k</i> . <li>On output, with G editing, the effect of the scale factor is suspended unless the magnitude of the datum to be edited is outside the range that permits the use of F editing. If the use of E editing is required, the scale factor has the same effect as with E output editing.</ol><p><h3><a name="sh-13.5.8">13.5.8 BN and BZ Editing.</a></h3>The BN and BZ edit descriptors may be used to specify the interpretation of blanks, other than leading blanks, in numeric input fields. At the beginning of execution of each formatted input statement, such blank characters are interpreted as zeros or are ignored, depending on the value of the BLANK= specifier ( <a href="rjcnf0001-sh-12.html#sh-12.10.1">12.10.1</a>) currently in effect for the unit. If a BN edit descriptor is encountered in a format specification, all such blank characters in succeeding numeric input fields are ignored. The effect of ignoring blanks is to treat the input field as if blanks had been removed, the remaining portion of the field right-justified, and the blanks replaced as leading blanks. However, a field of all blanks has the value zero. If a BZ edit descriptor is encountered in a format specification, all such blank characters in succeeding numeric input fields are treated as zeros.<p>The BN and BZ edit descriptors affect only I, F, E, D, and G editing during execution of an input statement. They have no effect during execution of an output statement.<p><h3><a name="sh-13.5.9">13.5.9 Numeric Editing.</a></h3>The I, F, E, D, and G edit descriptors are used to specify input/output of integer, real, double precision, and complex data. The following general rules apply:<ol><li>On input, leading blanks are not significant. The interpretation of blanks, other than leading blanks, is determined by a combination of any BLANK= specifier and any BN or BZ blank control that is currently in effect for the unit ( <a href="#sh-13.5.8">13.5.8</a>). Plus signs may be omitted. A field of all blanks is considered to be zero. <li>On input, with F, E, D, and G editing, a decimal point appearing in the input field overrides the portion of an edit descriptor that specifies the decimal point location. The input field may have more digits than the processor uses to approximate the value of the datum. <li>On output, the representation of a positive or zero internal value in the field may be prefixed with a plus, as controlled by the S, SP, and SS edit descriptors ( <a href="#sh-13.5.6">13.5.6</a>) or the processor. The representation of a negative internal value in the field must be prefixed with a minus. However, the processor must not produce a negative signed zero in a formatted output record. <li>On output, the representation is right-justified in the field. If the number of characters produced by the editing is smaller than the field width, leading blanks will be inserted in the field. <li>On output, if the number of characters produced exceeds the field width or if an exponent exceeds its specified length using the E<i>w</i>.<i>d</i>E<i>e</i> or G<i>w</i>.<i>d</i>E<i>e</i> edit descriptor, the processor will fill the entire field of width <i>w</i> with asterisks. However, the processor must not produce asterisks if the field width is not exceeded when optional characters are omitted. Note that when an SP edit descriptor is in effect, a plus is not optional ( <a href="#sh-13.5.6">13.5.6</a>).</ol><p><h4><a name="sh-13.5.9.1">13.5.9.1 Integer Editing.</a></h4>The I<i>w</i> and I<i>w</i>.<i>m</i> edit descriptors indicate that the field to be edited occupies <i>w</i> positions. The specified input/output list item must be of type integer. On input, the specified list item will become defined with an integer datum. On output, the specified list item must be defined with an integer datum.<p>On input, an I<i>w</i>.<i>m</i> edit descriptor is treated identically to an I<i>w</i> edit descriptor.<p>In the input field, the character string must be in the form of an optionally signed integer constant, except for the interpretation of blanks ( <a href="#sh-13.5.9">13.5.9</a>, item (1)).<p>The output field for the I<i>w</i> edit descriptor consists of zero or more leading blanks followed by a minus if the value of the internal datum is negative, or an optional plus otherwise, followed by the magnitude of the internal value in the form of an unsigned integer constant without leading zeros. Note that an integer constant always consists of at least one digit.<p>The output field for the I<i>w</i>.<i>m</i> edit descriptor is the same as for the I<i>w</i> edit descriptor, except that the unsigned integer constant consists of at least <i>m</i> digits and, if necessary, has leading zeros. The value of <i>m</i> must not exceed the value of <i>w</i> . If <i>m</i> is zero and the value of the internal datum is zero, the output field consists of only blank characters, regardless of the sign control in effect.<p><h4><a name="sh-13.5.9.2">13.5.9.2 Real and Double Precision Editing.</a></h4>The F, E, D, and G edit descriptors specify the editing of real, double precision, and complex data. An input/output list item corresponding to an F, E, D, or G edit descriptor must be real, double precision, or complex. An input list item will become defined with a datum whose type is the same as that of the list item. An output list item must be defined with a datum whose type is the same as that of the list item.<p><h5><a name="sh-13.5.9.2.1">13.5.9.2.1 F Editing.</a></h5>The F<i>w</i>.<i>d</i> edit descriptor indicates that the field occupies <i>w</i> positions, the fractional part of which consists of <i>d</i> digits.<p>The input field consists of an optional sign, followed by a string of digits optionally containing a decimal point. If the decimal point is omitted, the rightmost <i>d</i> digits of the string, with leading zeros assumed if necessary, are interpreted as the fractional part of the value represented. The string of digits may contain more digits than a processor uses to approximate the value of the constant. The basic form may be followed by an exponent of one of the following forms:<ol><li>Signed integer constant <li>E followed by zero or more blanks, followed by an optionally signed integer constant <li>D followed by zero or more blanks, followed by an optionally signed integer constant</ol><p>An exponent containing a D is processed identically to an exponent containing an E.<p>The output field consists of blanks, if necessary, followed by a minus if the internal value is negative, or an optional plus otherwise, followed by a string of digits that contains a decimal point and represents the magnitude of the internal value, as modified by the established scale factor and rounded to <i>d</i> fractional digits. Leading zeros are not permitted except for an optional zero immediately to the left of the decimal point if the magnitude of the value in the output field is less than one. The optional zero must appear if there would otherwise be no digits in the output field.<p><h5><a name="sh-13.5.9.2.2">13.5.9.2.2 E and D Editing.</a></h5>The E<i>w</i>.<i>d</i>, D<i>w</i>.<i>d</i>, and E<i>w</i>.<i>d</i>E<i>e</i> edit descriptors indicate that the external field occupies <i>w</i> positions, the fractional part of which consists of <i>d</i> digits, unless a scale factor greater than one is in effect, and the exponent part consists of <i>e</i> digits. The <i>e</i> has no effect on input.<p>The form of the input field is the same as for F editing ( <a href="#sh-13.5.9.2.1">13.5.9.2.1</a>).<p>The form of the output field for a scale factor of zero is:<pre>
[<i>+</i>] [0] . x x ...x  <i>exp</i>
                             1 2    d</pre><ul><li>where: <i>+</i> signifies a plus or a minus ( <a href="#sh-13.5.9">13.5.9</a>)</ul><ul><li>x ,x ...x 1 2 d are the L <i>d</i> most significant digits of the value of the datum after rounding <li><i>exp</i> is a decimal exponent, one of the following forms:</ul><pre>
__________________________________________________
    |           |                  |                  |
    | Edit      |  Absolute Value  |  Form of         |
    |_<i>Descriptor|</i>__<i>of</i>_<i>Exponent</i>_____<i>|</i>__<i>Exponent</i>________<i>|</i>
    |           |                  |                  |
    | E<i>w</i>.<i>d</i>      |  |<i>exp</i>|&lt;=99       |  E<i>+z</i> <i>z</i>  or <i>+</i>0<i>z</i> <i>z</i> |
    |           | _________________<i>|</i>_____<i>1</i>_<i>2</i>_______<i>1</i>_<i>2|</i>
    |           |                  |                  |
    |___________<i>|</i>__<i>99&lt;|</i><i>exp</i><i>|&lt;=999</i>___<i>|</i>__<i>+z</i><i>1</i><i>z</i><i>2</i><i>z</i><i>3</i>_________<i>|</i>
    |           |                  |                  |
    | E<i>w</i>.<i>d</i>E<i>e</i>    |  |<i>exp</i>|&lt;=(10**<i>e</i>)-1|  E<i>+z</i> <i>z</i> ...<i>z</i>      |
    |___________<i>|</i>__________________<i>|</i>_____<i>1</i>_<i>2</i>____<i>e</i>_____<i>|</i>
    |           |                  |                  |
    | D<i>w</i>.<i>d</i>      |  |<i>exp</i>|&lt;=99       |  D<i>+z</i>1<i>z</i>2 or E<i>+z</i>1<i>z</i>2|
    |           | _________________<i>|</i>__<i>or</i>_<i>+</i>_<i>z</i><i>1</i><i>z</i><i>2</i>_______<i>|</i>
    |           |                  |                  |
    |           |  99&lt;|<i>exp</i>|&lt;=999   |  <i>+z</i> <i>z</i> <i>z</i>          |
    |___________<i>|</i>__________________<i>|</i>____<i>1</i>_<i>2</i>_<i>3</i>_________<i>|</i>
</pre><p>where <i>z</i> is a digit. The sign in the exponent is required. A plus sign must be used if the exponent value is zero. The forms E<i>w</i>.<i>d</i> and D<i>w</i>.<i>d</i> must not be used if |<i>exp</i>| &gt; 999 .<p>The scale factor <i>k</i> controls the decimal normalization ( <a href="#sh-13.5.7">13.5.7</a>). If -<i>d</i> &lt; <i>k</i> &lt;= 0 , the output field contains exactly |<i>k</i>| leading zeros and <i>d</i> - |<i>k</i>| significant digits after the decimal point. If 0 &lt; <i>k</i> &lt; <i>d</i> + 2 , the output field contains exactly <i>k</i> significant digits to the left of the decimal point and <i>d</i> - <i>k</i> + 1 significant digits to the right of the decimal point. Other values of <i>k</i> are not permitted.<p><h5><a name="sh-13.5.9.2.3">13.5.9.2.3 G Editing.</a></h5>The G<i>w</i>.<i>d</i> and G<i>w</i>.<i>d</i>E<i>e</i> edit descriptors indicate that the external field occupies <i>w</i> positions, the fractional part of which consists of <i>d</i> digits, unless a scale factor greater than one is in effect, and the exponent part consists of <i>e</i> digits.<p>G input editing is the same as for F editing ( <a href="#sh-13.5.9.2.1">13.5.9.2.1</a>).<p>The method of representation in the output field depends on the magnitude of the datum being edited. Let N be the magnitude of the internal datum. If N &lt; 0.1 or N &gt;= 10**<i>d</i>,G<i>w</i>.<i>d</i> output editing is the same as <i>k</i>PE<i>w</i>.<i>d</i> output editing and G<i>w</i>.<i>d</i>E<i>e</i> output editing is the same as <i>k</i>PE<i>w</i>.<i>d</i>E<i>e</i> output editing, where <i>k</i> is the scale factor currently in effect. If N is greater than or equal to 0.1 and is less than 10**<i>d</i> , the scale factor has no effect, and the value of N determines the editing as follows:<pre>
________________________________________________
     |                       |                       |
     |_<i>Magnitude</i>_<i>of</i>_<i>Datum</i>____<i>|</i>__<i>Equivalent</i>_<i>Conversion|</i>
     |                       |                       |
     | 0.1=N&lt;=1              |  F(<i>w</i>-<i>n</i>).<i>d</i>, <i>n</i>('<i>b</i>')     |
     |                       |                       |
     | 1&lt;=N&lt;10               |  F(<i>w</i>-<i>n</i>).(<i>d</i>-1), <i>n</i>('<i>b</i>') |
     |                       |                       |
     |   .                   |        .              |
     |   .                   |        .              |
     |   .                   |        .              |
     | 10**(<i>d</i>-2)&lt;=N&lt;10**(<i>d</i>-1)|  F(<i>w</i>-<i>n</i>).1, <i>n</i>('<i>b</i>')     |
     |                       |                       |
     | 10**(<i>d</i>-1)&lt;=N&lt;10**<i>d</i>    |  F(<i>w</i>-<i>n</i>).0, <i>n</i>('<i>b</i>')     |
     |                       |                       |
     |_______________________<i>|</i>_______________________<i>|</i>
</pre><ul><li>where: <i>b</i> is a blank</ul><ul><li><i>n</i> is 4 for G<i>w</i>.<i>d</i> and <i>e+</i>2 for G<i>w</i>.<i>d</i>E<i>e</i></ul><p>Note that the scale factor has no effect unless the magnitude of the datum to be edited is outside of the range that permits effective use of F editing.<p><h5><a name="sh-13.5.9.2.4">13.5.9.2.4 Complex Editing.</a></h5>A complex datum consists of a pair of separate real data; therefore, the editing is specified by two successively interpreted F, E, D, or G edit descriptors. The first of the edit descriptors specifies the real part; the second specifies the imaginary part. The two edit descriptors may be different. Note that nonrepeatable edit descriptors may appear between the two successive F, E, D, or G edit descriptors.<p><h3><a name="sh-13.5.10">13.5.10 L Editing.</a></h3>The L<i>w</i> edit descriptor indicates that the field occupies <i>w</i> positions. The specified input/output list item must be of type logical. On input, the list item will become defined with a logical datum. On output, the specified list item must be defined with a logical datum. The input field consists of optional blanks, optionally followed by a decimal point, followed by a T for true or F for false. The T or F may be followed by additional characters in the field. Note that the logical constants .TRUE. and .FALSE. are acceptable input forms.<p>The output field consists of <i>w</i> - 1 blanks followed by a T or F, as the value of the internal datum is true or false, respectively.<p><h3><a name="sh-13.5.11">13.5.11 A Editing.</a></h3>The A[<i>w</i>] edit descriptor is used with an input/output list item of type character. On input, the input list item will become defined with character data. On output, the output list item must be defined with character data.<p>If a field width <i>w</i> is specified with the A edit descriptor, the field consists of <i>w</i> characters. If a field width <i>w</i> is not specified with the A edit descriptor, the number of characters in the field is the length of the character input/output list item.<p>Let <i>len</i> be the length of the input/output list item. If the specified field width <i>w</i> for A input is greater than or equal to <i>len</i> , the rightmost <i>len</i> characters will be taken from the input field. If the specified field width is less than <i>len</i> , the <i>w</i> characters will appear left-justified with <i>len</i>-<i>w</i> trailing blanks in the internal representation.<p>If the specified field width <i>w</i> for A output is greater than <i>len</i> , the output field will consist of <i>w</i>-<i>len</i> blanks followed by the <i>len</i> characters from the internal representation. If the specified field width <i>w</i> is less than or equal to <i>len</i> , the output field will consist of the leftmost <i>w</i> characters from the internal representation.<p><h2><a name="sh-13.6">13.6 List-Directed Formatting</a></h2>The characters in one or more list-directed records constitute a sequence of values and value separators. The end of a record has the same effect as a blank character, unless it is within a character constant. Any sequence of two or more consecutive blanks is treated as a single blank, unless it is within a character constant.<p>Each value is either a constant, a null value, or of one of the forms:<pre>
<i>r</i>*<i>c</i></pre><pre>
<i>r</i>*</pre>where <i>r</i> is an unsigned, nonzero, integer constant. The <i>r</i>*<i>c</i> form is equivalent to <i>r</i> successive appearances of the constant <i>c</i> , add the <i>r</i>* form is equivalent to <i>r</i> successive appearances of the null values. Neither of these forms may contain embedded blanks, except where permitted within the constant <i>c</i> .<p>A <i>value separator</i> is one of the following:<ol><li>A comma optionally preceded by one or more contiguous blanks and optionally followed by one or more contiguous blanks <li>A slash optionally preceded by one or more contiguous blanks and optionally followed by one or more contiguous blanks <li>One or more contiguous blanks between two constants or following the last constant</ol><p><h3><a name="sh-13.6.1">13.6.1 List-Directed Input.</a></h3>Input forms acceptable to format specifications for a given type are acceptable for list-directed formatting, except as noted below. The form of the input value must be acceptable for the type of the input list item. Blanks are never used as zeros, and embedded blanks are not permitted in constants, except within character constants and complex constants as specified below. Note that the end of a record has the effect of a blank, except when it appears within a character constant.<p>When the corresponding input list item is of type real or double precision, the input form is that of a numeric input field. A <i>numeric input field</i> is a field suitable for F editing ( <a href="#sh-13.5.9.2">13.5.9.2</a>) that is assumed to have no fractional digits unless a decimal point appears within the field.<p>When the corresponding list item is of type complex, the input form consists of a left parenthesis followed by an ordered pair of numeric input fields separated by a comma, and followed by a right parenthesis. The first numeric input field is the real part of the complex constant and the second is the imaginary part. Each of the numeric input fields may be preceded or followed by blanks. The end of a record may occur between the real part and the comma or between the comma and the imaginary part.<p>When the corresponding list item is of type logical, the input form must not include either slashes or commas among the optional characters permitted for L editing ( <a href="#sh-13.5.10">13.5.10</a>).<p>When the corresponding list item is of type character, the input form consists of a nonempty string of characters enclosed in apostrophes. Each apostrophe within a character constant must be represented by two consecutive apostrophes without an intervening blank or end of record. Character constants may be continued from the end of one record to the beginning of the next record. The end of the record does not cause a blank or any other character to become part of the constant. The constant may be continued on as many records as needed. The characters blank, comma, and slash may appear in character constants.<p>Let <i>len</i> be the length of the list item, and let <i>w</i> be the length of the character constant. If <i>len</i> is less than or equal to <i>w</i> , the leftmost <i>len</i> characters of the constant are transmitted to the list item. If <i>len</i> is greater than <i>w</i> , the constant is transmitted to the leftmost <i>w</i> characters of the list item and the remaining <i>len</i>-<i>w</i> characters of the list item are filled with blanks. Note that the effect is as though the constant were assigned to the list item in a character assignment statement ( <a href="rjcnf0001-sh-10.html#sh-10.4">10.4</a>).<p>A null value is specified by having no characters between successive value separators, no characters preceding the first value separator in the first record read by each execution of a list-directed input statement, or the <i>r</i>* form. A null value has no effect on the definition status of the corresponding input list item. If the input list item is defined, it retains its previous value; if it is undefined, it remains undefined. A null value may not be used as either the real or imaginary part of a complex constant, but a single null value may represent an entire complex constant. Note that the end of a record following any other separator, with or without separating blanks, does not specify a null value.<p>A slash encountered as a value separator during execution of a list-directed input statement causes termination of execution of that input statement after the assignment of the previous value. If there are additional items in the input list, the effect is as if null values had been supplied for them.<p>Note that all blanks in a list-directed input record are considered to be part of some value separator except for the following:<ol><li>Blanks embedded in a character constant <li>Embedded blanks surrounding the real or imaginary part of a complex constant <li>Leading blanks in the first record read by each execution of a list-directed input statement, unless immediately followed by a slash or comma</ol><p><h3><a name="sh-13.6.2">13.6.2 List-Directed Output.</a></h3>The form of the values produced is the same as that required for input, except as noted otherwise. With the exception of character constants, the values are separated by one of the following:<ol><li>One or more blanks <li>A comma optionally preceded by one or more blanks and optionally followed by O&lt;one or more blanks</ol><p>The processor may begin new records as necessary, but, except for complex constants and character constants, the end of a record must not occur within a constant and blanks must not appear within a constant.<p>Logical output constants are T for the value true and F for the value false.<p>Integer output constants are produced with the effect of an I<i>w</i> edit descriptor, for some reasonable value of <i>w</i> .<p>Real and double precision constants are produced with the effect of either an F edit descriptor or an E edit descriptor, depending on the magnitude <i>x</i> of the value and a range 10**<i>d</i> &lt;= <i>x</i> &lt; 10**<i>d</i> 1 2 , where <i>d</i> 1 and <i>d</i> 2 are processor-dependent integer values. If the magnitude <i>x</i> is within this range, the constant is produced using OPF<i>w</i>.<i>d</i> ; otherwise, 1PE<i>w</i>.<i>d</i>E<i>e</i> is used. Reasonable processor-dependent values of <i>w</i> , <i>d</i> , and <i>e</i> are used for each of the cases involved.<p>Complex constants are enclosed in parentheses, with a comma separating the real and imaginary parts. The end of a record may occur between the comma and the imaginary part only if the entire constant is as long as, or longer than, an entire record. The only embedded blanks permitted within a complex constant are between the comma and the end of a record and one blank at the beginning of the next record.<p>Character constants produced are not delimited by apostrophes, are not preceded or followed by a value separator, have each internal apostrophe represented externally by one apostrophe, and have a blank character inserted by the processor for carriage control at the beginning of any record that begins with the continuation of a character constant from the preceding record.<p>If two or more successive values in an output record produced have identical values, the processor has the option of producing a repeated constant of the form <i>r</i>*<i>c</i> instead of the sequence of identical values.<p>Slashes, as value separators, and null values are not produced by list-directed formatting.<p>Each output record begins with a blank character to provide carriage control when the record is printed.<p>'<pre>
</pre><p><hr><a href="rjcnf0001.html">[Contents]</a> <a href="rjcnf0001-sh-12.html">[Previous]</a> <a href="rjcnf0001-sh-14.html">[Next]</a><br><I>This document was translated by troff2html v0.21 on August 16, 1995.</I><P></body></html><script language="javascript"><!--bmi_SafeAddOnload(bmi_load,"bmi_orig_img",1);//-->
</script>